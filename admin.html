<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ | –ú–°–û –ú–ì–£</title>
    <link rel="stylesheet" href="style.css">
    <style>
        /* –°—Ç–∏–ª–∏ –¥–ª—è –∞–¥–º–∏–Ω–∫–∏ */
        .admin-container { max-width: 600px; margin: 50px auto; padding: 30px; background: white; border-radius: 10px; box-shadow: 0 5px 20px rgba(0,0,0,0.1); }
        .hidden { display: none; }
        .form-group { margin-bottom: 20px; }
        label { display: block; margin-bottom: 5px; font-weight: bold; }
        input, textarea { width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 5px; font-family: inherit; }
        button { background-color: #0047A0; color: white; border: none; padding: 12px 25px; border-radius: 5px; cursor: pointer; font-size: 1rem; }
        button:hover { background-color: #003580; }
        #newsList { margin-top: 30px; border-top: 2px solid #eee; padding-top: 20px; }
        .news-item { background: #f9f9f9; padding: 15px; margin-bottom: 10px; border-radius: 5px; }
    </style>
</head>
<body>
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <div class="logo-text">
                        <h1>üîê –ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</h1>
                    </div>
                </div>
                <nav class="nav">
                    <a href="index.html">–ù–∞ –≥–ª–∞–≤–Ω—É—é</a>
                </nav>
            </div>
        </div>
    </header>

    <main class="main">
        <div class="container admin-container">
            <!-- 1. –≠–∫—Ä–∞–Ω –≤–≤–æ–¥–∞ –ø–∞—Ä–æ–ª—è -->
            <div id="loginScreen">
                <h2>–í—Ö–æ–¥ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</h2>
                <div class="form-group">
                    <label for="password">–ü–∞—Ä–æ–ª—å:</label>
                    <input type="password" id="password" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å">
                </div>
                <button onclick="checkPassword()">–í–æ–π—Ç–∏</button>
                <p id="loginError" style="color: red; margin-top: 10px;"></p>
                <p><small>–ü–æ–¥—Å–∫–∞–∑–∫–∞: —á—Ç–æ–±—ã —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–∞—Ä–æ–ª—å, –∑–∞–º–µ–Ω–∏—Ç–µ 'our_secret_password' –≤ –∫–æ–¥–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –Ω–∞ —Å–≤–æ–π.</small></p>
            </div>

            <!-- 2. –≠–∫—Ä–∞–Ω —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (—Å–∫—Ä—ã—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) -->
            <div id="adminPanel" class="hidden">
                <h2>–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ—Å—Ç—å –¥–ª—è —Å–∞–π—Ç–∞</h2>
                <div class="form-group">
                    <label for="newsTitle">–ó–∞–≥–æ–ª–æ–≤–æ–∫ –Ω–æ–≤–æ—Å—Ç–∏:</label>
                    <input type="text" id="newsTitle" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –°–±–æ—Ä –æ—Ç—Ä—è–¥–∞ '–ü–∞—Ä–∞–ª–ª–∞–∫—Å'">
                </div>
                <div class="form-group">
                    <label for="newsDate">–î–∞—Ç–∞:</label>
                    <input type="date" id="newsDate">
                </div>
                <div class="form-group">
                    <label for="newsText">–¢–µ–∫—Å—Ç –Ω–æ–≤–æ—Å—Ç–∏:</label>
                    <textarea id="newsText" rows="4" placeholder="–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ..."></textarea>
                </div>
                <button onclick="addNews()">–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ—Å—Ç—å</button>
                <hr>
                <h3>–°–ø–∏—Å–æ–∫ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö –Ω–æ–≤–æ—Å—Ç–µ–π (–¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è)</h3>
                <div id="newsList">
                    <!-- –°—é–¥–∞ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –Ω–æ–≤–æ—Å—Ç–∏ -->
                    <p>–ù–æ–≤–æ—Å—Ç–µ–π –ø–æ–∫–∞ –Ω–µ—Ç.</p>
                </div>
                <p><strong>–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:</strong> –ù–æ–≤–æ—Å—Ç–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ –ø–∞–º—è—Ç–∏ –≤–∞—à–µ–≥–æ –±—Ä–∞—É–∑–µ—Ä–∞. –ß—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å –∏—Ö –Ω–∞ —Å–∞–π—Ç, –≤–∞–º –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–æ—Ç —Å–ø–∏—Å–æ–∫ –∏ –≤—Ä—É—á–Ω—É—é –æ–±–Ω–æ–≤–∏—Ç—å —Ñ–∞–π–ª <code>news.json</code> –Ω–∞ GitHub.</p>
            </div>
        </div>
    </main>

    <script>
        // === –ü–ê–†–û–õ–¨ –î–õ–Ø –í–•–û–î–ê ===
        // –ó–ê–ú–ï–ù–ò–¢–ï 'our_secret_password' –Ω–∞ —Å–≤–æ–π —Ä–µ–∞–ª—å–Ω—ã–π –ø–∞—Ä–æ–ª—å!
        const ADMIN_PASSWORD = 'our_secret_password';

        function checkPassword() {
            const input = document.getElementById('password').value;
            const errorEl = document.getElementById('loginError');
            if (input === ADMIN_PASSWORD) {
                document.getElementById('loginScreen').classList.add('hidden');
                document.getElementById('adminPanel').classList.remove('hidden');
                loadNewsFromStorage();
            } else {
                errorEl.textContent = '–ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.';
            }
        }

        // === –†–ê–ë–û–¢–ê –° –ù–û–í–û–°–¢–Ø–ú–ò (–≤ localStorage) ===
        const NEWS_STORAGE_KEY = 'mso_news';

        function addNews() {
            const title = document.getElementById('newsTitle').value.trim();
            const date = document.getElementById('newsDate').value;
            const text = document.getElementById('newsText').value.trim();

            if (!title || !date || !text) {
                alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è!');
                return;
            }

            // –ü–æ–ª—É—á–∞–µ–º —Å—Ç–∞—Ä—ã–µ –Ω–æ–≤–æ—Å—Ç–∏
            let newsArray = JSON.parse(localStorage.getItem(NEWS_STORAGE_KEY)) || [];
            // –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—É—é
            newsArray.unshift({ // unshift –¥–æ–±–∞–≤–ª—è–µ—Ç –≤ –Ω–∞—á–∞–ª–æ –º–∞—Å—Å–∏–≤–∞
                id: Date.now(), // —É–Ω–∏–∫–∞–ª—å–Ω—ã–π ID –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤—Ä–µ–º–µ–Ω–∏
                title: title,
                date: date,
                text: text
            });
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ–±—Ä–∞—Ç–Ω–æ
            localStorage.setItem(NEWS_STORAGE_KEY, JSON.stringify(newsArray));

            // –û—á–∏—â–∞–µ–º —Ñ–æ—Ä–º—É –∏ –æ–±–Ω–æ–≤–ª—è–µ–º —Å–ø–∏—Å–æ–∫
            document.getElementById('newsTitle').value = '';
            document.getElementById('newsDate').value = '';
            document.getElementById('newsText').value = '';
            loadNewsFromStorage();
            alert('–ù–æ–≤–æ—Å—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ –ª–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ!');
        }

        function loadNewsFromStorage() {
            const newsArray = JSON.parse(localStorage.getItem(NEWS_STORAGE_KEY)) || [];
            const container = document.getElementById('newsList');

            if (newsArray.length === 0) {
                container.innerHTML = '<p>–ù–æ–≤–æ—Å—Ç–µ–π –ø–æ–∫–∞ –Ω–µ—Ç.</p>';
                return;
            }

            let html = '';
            newsArray.forEach(news => {
                html += `
                <div class="news-item">
                    <strong>${news.title}</strong> (${news.date})<br>
                    ${news.text}
                </div>`;
            });
            container.innerHTML = html;
        }

        // –î–ª—è —É–¥–æ–±—Å—Ç–≤–∞: –Ω–∞–∂–∞—Ç–∏–µ Enter –≤ –ø–æ–ª–µ –ø–∞—Ä–æ–ª—è
        document.getElementById('password').addEventListener('keyup', function(event) {
            if (event.key === 'Enter') {
                checkPassword();
            }
        });
    </script>
</body>
</html>
